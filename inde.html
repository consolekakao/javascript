<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
  <script src="https://unpkg.com/ag-grid-community/dist/ag-grid-community.min.js"></script>               //ag-grid
  <script src="https://unpkg.com/ag-grid-enterprise/dist/ag-grid-enterprise.min.noStyle.js"></script>     //ag-grid
<script>

let colum,grid_option,row_data;

 colum = [
  {
    headerName:"ssss", //헤더 필드명
    field:"make", //필드명  headerName 속성이 없으면 이 속성이 header에 표시됨.
    sortable:true, //정렬 기능 여부
    filter : true, //필터 기능 여부부
    checkboxSelection:true,  //각 row에 체크 버튼 여부
    width:200, //필드 width값 설정
    headerCheckboxSelection: true //헤더에 전체 체크/해제 버튼 여부
  },
  {field: "model",sortable:true,filter : true},
  {field: "price",sortable:true,filter : true}
]

 row_data = [
  { "make": "Porsche", "model": "Boxter", "price": 7200000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 },
  { "make": "Toyota", "model": "Celica", "price": 35000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Ford", "model": "Mondeo", "price": 32000 },
  { "make": "Porsche", "model": "Boxter", "price": 72000 }
]

 grid_option = {
  columnDefs : colum, //세로컬럼
  rowData : row_data,  //row 데이터
  rowSelection:'multiple', //중복선택 여부
  groupSelectsChildren: false,
  enableColResize: true,
  animateRows: true, //행 애니메이션
  defaultColDef: {
    suppressMenu: true,
    cellStyle : function(params) {
      return {
        'border-right': '2px solid #d9dcde'
      }
    }
  },
}

document.addEventListener('DOMContentLoaded', () => {
  const grid_div = document.querySelector('#test');
  new agGrid.Grid(grid_div,grid_option);
})




const btn = () => {
  const select_nodes = grid_option.api.getSelectedNodes();
  const selected_data = select_nodes.map(node => node.data)
  const selected_data_string = selected_data.map(node => `${node.make} ${node.model} ${node.price}\n`).join('')
  alert(`${selected_data_string}`)
}


</script>
<div id="test" style="height: 600px; width:600px;" class="ag-theme-alpine"></div>
<button onclick="btn()">btn</button>



</body>
</html>
